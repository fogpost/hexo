---
create: 2026-01-18T12:49
updated: 2026-01-20T15:39
crated: 2026-01-18T12:49
---


作者：fogpost lapuland
更新日期：2025年10月
 适用方向：安全服务 / 安全运维 / 威胁分析
 说明：本笔记用于学习与授权测试场景，请勿用于未授权系统。



目录

1. 资产发现与信息收集
2. 漏洞扫描与验证
3. 流量与协议分析
4. 日志与系统排查
5.  网络排障与诊断
6. 报告编制与可视化
7. Linux常用命令速览

## 1️⃣ 资产发现与信息收集

🧰 Nmap

**工具说明**
网络扫描与资产发现工具，可识别主机、端口、服务、系统指纹。

**常用命令**

```bash
# 扫描单个主机
nmap 192.168.1.10

# 扫描网段存活主机
nmap -sn 192.168.1.0/24

# 服务与版本识别
nmap -sV 192.168.1.10

# 操作系统指纹识别
nmap -O 192.168.1.10

# 同时保存扫描结果
nmap -sV -oA result 192.168.1.10
```

**输出样例**

```plain text
PORT     STATE SERVICE VERSION
22/tcp   open  ssh     OpenSSH 7.4
80/tcp   open  http    Apache httpd 2.4.6
443/tcp  open  ssl/http
MAC Address: 00:0C:29:6B:3A:9C (VMware)
```

**实战技巧**

- 优先使用 `sS` 半连接扫描降低被检测概率。
- 可结合 `-script vuln` 启用NSE漏洞检测脚本。
- 输出结果可导入Excel或Vulmap进行资产管理。

---

### 🧰 Masscan

**工具说明**

高速端口扫描器，常用于大规模资产发现。

**常用命令**

```bash
masscan 192.168.0.0/16 -p1-65535 --rate 10000 -oG result.txt
```

**实战技巧**

- 扫描速率建议控制在局域网 5w pps 以下，公网1w pps以下。
- 输出可导入Nmap二次扫描提取服务指纹。

🧭 **小结**

> 资产发现阶段目标是“知道网里有哪些系统”，Nmap 用于精扫，Masscan 用于快扫，两者结合最常见。

---

## 2️⃣ 漏洞扫描与验证

### 🧰 Nessus

**工具说明**

企业级漏洞扫描器，支持模板、定期扫描、报告导出。

**常用操作**

- 使用“Basic Network Scan”模板。
- 设置“Scan Policy”启用认证扫描。
- 导出 HTML / CSV 报告。

**输出样例**

```plain text
Plugin ID : 26920
Name      : Apache HTTP Server 2.4.6 Multiple Vulnerabilities
Risk      : High
Solution  : Upgrade to version 2.4.57 or later
```

**实战技巧**

- 定期比对上次报告，分析新出现高危项。
- 学会区分“配置缺陷”与“真实漏洞”。

---

### 🧰 Nikto

**工具说明**

Web服务器漏洞扫描工具，检测常见配置与中间件风险。

**命令示例**

```bash
nikto -h http://192.168.1.20
```

**实战技巧**

- 结果中很多为信息性提示，可与手动验证结合判断。
- 可结合 BurpSuite 对疑似漏洞进行二次验证。

🧭 **小结**

> Nessus 负责面扫描，Nikto/手工验证负责点确认。输出要转化为修复建议而非仅罗列漏洞。

---

## 3️⃣ 流量与协议分析

### 🧰 tcpdump

**工具说明**

命令行抓包工具，可捕获并过滤网络流量。

**常用命令**

```bash
# 抓取80端口数据
sudo tcpdump -i eth0 port 80 -w http.pcap

# 抓取指定主机
sudo tcpdump -i eth0 host 192.168.1.10

# 查看实时抓包
sudo tcpdump -A -i eth0 tcp port 80
```

**输出样例**

```plain text
12:03:45 IP 192.168.1.10.51320 > 192.168.1.1.http: GET /index.html HTTP/1.1
```

**实战技巧**

- 抓包前确认磁盘空间，避免文件过大。
- 抓取后用 Wireshark 打开更直观。

---

### 🧰 Wireshark / Zeek

**功能说明**

Wireshark 用于可视化协议分析；Zeek 用于长期流量监控。

**常见应用**

- 分析异常登录、数据外传。
- 识别攻击流量（如SQL注入、扫描行为）。

🧭 **小结**

> tcpdump 抓包，Wireshark 看包，Zeek 分析长期流量，三者配合排查最强。

---

## 4️⃣ 日志与系统排查

### 🧰 ELK Stack

**说明**

Elasticsearch + Logstash + Kibana 构成日志集中化分析平台。

**实战步骤**

8. Logstash 收集系统、安全日志。
9. Elasticsearch 存储、索引日志。
10. Kibana 可视化、告警。

**示例查询**

```plain text
event.action: "process_start" AND process.name: "cmd.exe"
```

**技巧**

- 设置仪表盘监控用户行为。
- 结合 Sysmon 日志定位异常进程。

---

### 🧰 Splunk

**说明**

企业级日志分析工具，功能类似ELK但操作更易。

**常见查询**

```plain text
index=sysmon EventCode=1 | stats count by Image,User
```

🧭 **小结**

> 日志分析核心是“建立基线 → 查异常”，工具不同但思路一致。

---

## 5️⃣ 网络排障与诊断

### 🧰 ping / traceroute

检测主机连通性与路径。

```bash
ping 8.8.8.8
traceroute www.baidu.com
```

### 🧰 netstat / ss

查看网络连接与端口状态。

```bash
netstat -tulnp
ss -antp | grep 80
```

### 🧰 dig / nslookup

DNS查询与故障定位。

```bash
dig www.example.com
```

🧭 **小结**

> 网络排障从“能否通 → 通到哪 → 谁阻断”逐层分析。

---

## 6️⃣ 报告编制与可视化

### 🧰 Visio

- 绘制拓扑图、安全架构。
- 常用图例：防火墙、服务器、客户端、云。

### 🧰 Excel / Word

- 汇总风险项、优先级。
- 用条件格式标红高危项。

### 🧰 Power BI / Kibana

- 将漏洞统计或告警趋势可视化。

🧭 **小结**

> 报告不仅写“发现了什么”，更要说明“影响与修复建议”。

---

## 7️⃣ Linux常用命令速览

| 分类 | 命令 | 用途 |
| --- | --- | --- |
| 文件导航 | `ls`, `cd`, `pwd` | 查看目录结构 |
| 文件查看 | `cat`, `less`, `tail -f` | 查看配置或日志 |
| 搜索筛选 | `grep`, `awk`, `sed` | 文本提取与处理 |
| 权限管理 | `chmod`, `chown` | 权限调整 |
| 进程监控 | `ps aux`, `top`, `htop` | 查看系统资源 |
| 网络分析 | `ifconfig`, `ip`, `ss`, `netstat` | 查看网卡与端口 |
| 日志排查 | `journalctl -xe`, `dmesg` | 系统日志分析 |
| 压缩打包 | `tar`, `gzip`, `zip` | 文件归档 |
| 文件传输 | `scp`, `rsync` | 远程拷贝 |
| 调度控制 | `systemctl`, `crontab` | 服务与任务管理 |

🧭 **小结**

> 安全工程师日常一半工作在命令行，熟练掌握常用命令比记住参数更重要。

---

## 📘 结语

> “安全服务的核心是发现问题并推动修复。”
> 工具只是手段，真正的价值在于分析思维与执行闭环。

---