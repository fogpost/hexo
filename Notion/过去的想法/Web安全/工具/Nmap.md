---
crated: 2026-01-18T12:49
updated: 2026-01-20T15:39
---
HTTP Webservice 几乎总是位于服务器的 80 端口。HTTPS Webservice 位于 443 端口。Windows NETBIOS 位于 139 端口，SMB 位于 445 端口

## 状态：

- `open`(开放的)意味着目标机器上的应用程序正在该端口监听连接报文。 
- `filtered`(被过滤的) 意味着防火墙，过滤器或者其它网络障碍阻止了该端口被访问，Nmap无法得知 它是 `open`(开放的) 还是 `closed`(关闭的)。 
- `closed`(关闭的) 端口没有应用程序在它上面监听，但是他们随时可能开放。 当端口对Nmap的探测做出响应，但是Nmap无法确定它们是关闭还是开放时，这些端口就被认为是
- `unfiltered`(未被过滤的) 如果Nmap报告状态组合 `open|filtered` 和 `closed|filtered`时，那说明Nmap无法确定该端口处于两个状态中的哪一个状态。

## 目标说明

- `-iL <inputfilename>` (从列表中输入)
从 `*<inputfilename>*`中读取目标说明 只要生成要扫描的主机的列表，用`-iL` 把文件名作为选项传给Nmap。
- `-iR <hostnum>` (随机选择目标)
 `*<hostnum>*` 选项告诉 Nmap生成多少个IP。选项 `0` 意味着永无休止的扫描。
- `--exclude <host1[，host2][，host3]，...>` (排除主机/网络)
如果在您指定的扫描范围有一些主机或网络不是您的目标， 那就用该选项加上以逗号分隔的列表排除它们。
- `--excludefile <excludefile>` (排除文件中的列表)
这和`--exclude` 选项的功能一样，只是所排除的目标是用以 换行符，空格，或者制表符分隔的 `*<excludefile>*`提供的，而不是在命令行上输入的。


## 主机发现

- `-sL` (列表扫描)
- `-sP` (Ping扫描)（`-sn`）
该选项告诉Nmap*仅仅* 进行ping扫描 (主机发现) 
- `-P0` (无ping)
- `-PS [portlist]` (TCP SYN Ping)
- -`PA [portlist]` (TCP ACK Ping)

## 端口扫描

当使用 Nmap 进行端口扫描时，有三种基本扫描类型。这些是：

- TCP 连接扫描（ `-sT` ）

嗯，正如其名所示，TCP 连接扫描通过依次与每个目标端口执行三次握手来工作。换句话说，Nmap 试图连接到每个指定的 TCP 端口，并通过接收到的响应来确定该服务是否开放。

如果端口是关闭的那么，会发送重置响应（RST）

如果端口是开放的那么，会发送一个设置（SYN\ACK）的TCP数据包

如果端口是过滤的那么，不会有任何的回应

- 半开式扫描（ `-sS` ）

SYN 扫描有时被称为“半开扫描”或“隐形扫描”。TCP 扫描与目标进行完整的三个握手过程，而 SYN 扫描在收到服务器的 SYN/ACK 响应后发送一个 RST TCP 数据包（这阻止服务器反复尝试请求）。

不会被监听开放端口的程序记录，速度更快

- UDP 扫描（ `-sU` ）

通过向目标端口发送数据包。这使得 UDP 非常适合那些更注重速度而非质量的连接（例如视频分享），但缺乏确认使得 UDP 扫描变得显著困难（并且速度慢得多）

开放的UDP，没有响应（OPEN|FILTERED）

关闭的UDP，响应一个包含消息表明不可达的ICMP包

使用 `nmap -sU --top-ports 20 <target>` 扫描。将扫描最常用的前 20 个 UDP 端口


此外，还有一些不太常见的端口扫描类型，其中一些我们也会涉及（尽管不会那么详细）。这些包括：

- TCP 空扫描（ `-sN` ） 无标志，关闭为收到RST
- TCP FIN 扫描（ `-sF` ）带有FIN标志，关闭条件同上
- TCP 圣诞树扫描（ `-sX` ）错误的标记，PSH\URG\FIN，关闭条件同上

这三种是隐蔽式扫描





