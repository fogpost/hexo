---
crated: 2026-01-18T12:49
updated: 2026-01-20T15:39
---
- **PHP 的 **`**urlencode()**`** 会把空格 (**`** **`**) 编码成 **`**+**`
    - `urlencode("POST /Manage HTTP/1.1")`
```plain text
POST+%2FManage+HTTP%2F1.1
```
**但是 HTTP 传输时，空格应该编码成 **`**%20**`
    - `rawurlencode("POST /Manage HTTP/1.1")`
```plain text
POST%20%2FManage%20HTTP%2F1.1
```
    - **所以 PHP 默认的 **`**urlencode()**`** 和 HTTP 传输中的编码方式不同**
- **换行符 (**`**\n**`** 和 **`**\r\n**`**) 的编码不同**
    - HTTP 规范通常使用 `**%0A**`**（LF 换行）** 或 `**%0D%0A**`**（CRLF 换行）**
    - 但 `urlencode("\n")` 和 `rawurlencode("\n")` 都会变成 `%0A`
    - 如果是 Windows 风格的 `\r\n`，它会变成 `%0D%0A`
- **两次编码的差异**
    - `urlencode(urlencode(" "))` 可能会变成 `+` 和 `%2520`
    - `rawurlencode(rawurlencode(" "))` 则更符合 HTTP 规范，变成 `%20` 和 `%2520`
    - 你的期望结果 `POST%2520%252FManage%2520HTTP%252F1.1` 说明 **HTTP 服务器端可能用的是 **`**rawurlencode()**`** 方式编码**